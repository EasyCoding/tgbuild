From 081537a5b1f50b5423b7ce263e96063599e56db0 Mon Sep 17 00:00:00 2001
From: Igor Gnatenko <ignatenko@redhat.com>
Date: Mon, 15 May 2017 09:33:31 +0200
Subject: [PATCH] localstorage: qFlags is working only on enumeration types

Closes: https://github.com/telegramdesktop/tdesktop/issues/3379
Signed-off-by: Igor Gnatenko <ignatenko@redhat.com>
---
 Telegram/SourceFiles/storage/localstorage.cpp | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/Telegram/SourceFiles/storage/localstorage.cpp b/Telegram/SourceFiles/storage/localstorage.cpp
index 3fa80eee..b977b46f 100644
--- a/Telegram/SourceFiles/storage/localstorage.cpp
+++ b/Telegram/SourceFiles/storage/localstorage.cpp
@@ -3271,7 +3271,7 @@ void _readStickerSets(FileKey &stickersKey, Stickers::Order *outOrder = nullptr,
 
 		if (setId == Stickers::DefaultSetId) {
 			setTitle = lang(lng_stickers_default_set);
-			setFlags |= qFlags(MTPDstickerSet::Flag::f_official | MTPDstickerSet_ClientFlag::f_special);
+			setFlags |= MTPDstickerSet::Flag::f_official | MTPDstickerSet_ClientFlag::f_special;
 			if (readingInstalled && outOrder && stickers.version < 9061) {
 				outOrder->push_front(setId);
 			}
-- 
2.13.0

